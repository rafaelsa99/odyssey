<featureType>
  <id>FeatureTypeInfoImpl--be02ae1:1824ae90817:-7de1</id>
  <name>occurrence_polygon</name>
  <nativeName>occurrence_polygon</nativeName>
  <namespace>
    <id>NamespaceInfoImpl-78ff667e:12476299803:-7ffe</id>
  </namespace>
  <title>Archaeological Occurrences (polygon)</title>
  <abstract>Archaeological Occurrences represented by polygons.</abstract>
  <keywords>
    <string>features</string>
    <string>occurrence_polygon</string>
  </keywords>
  <metadataLinks>
    <metadataLink>
      <type>other</type>
      <metadataType>other</metadataType>
      <content>http://localhost:8000/catalogue/csw?request=GetRecordById&amp;service=CSW&amp;version=2.0.2&amp;id=853e6d64-3caf-4843-92c0-fb389ac8140f&amp;outputschema=http%3A%2F%2Fgcmd.gsfc.nasa.gov%2FAboutus%2Fxml%2Fdif%2F&amp;elementsetname=full</content>
    </metadataLink>
    <metadataLink>
      <type>other</type>
      <metadataType>other</metadataType>
      <content>http://localhost:8000/catalogue/csw?request=GetRecordById&amp;service=CSW&amp;version=2.0.2&amp;id=853e6d64-3caf-4843-92c0-fb389ac8140f&amp;outputschema=http%3A%2F%2Fwww.opengis.net%2Fcat%2Fcsw%2F2.0.2&amp;elementsetname=full</content>
    </metadataLink>
    <metadataLink>
      <type>other</type>
      <metadataType>other</metadataType>
      <content>http://localhost:8000/catalogue/csw?request=GetRecordById&amp;service=CSW&amp;version=2.0.2&amp;id=853e6d64-3caf-4843-92c0-fb389ac8140f&amp;outputschema=http%3A%2F%2Fwww.w3.org%2F2005%2FAtom&amp;elementsetname=full</content>
    </metadataLink>
    <metadataLink>
      <type>other</type>
      <metadataType>other</metadataType>
      <content>http://localhost:8000/catalogue/csw?request=GetRecordById&amp;service=CSW&amp;version=2.0.2&amp;id=853e6d64-3caf-4843-92c0-fb389ac8140f&amp;outputschema=urn%3Aoasis%3Anames%3Atc%3Aebxml-regrep%3Axsd%3Arim%3A3.0&amp;elementsetname=full</content>
    </metadataLink>
    <metadataLink>
      <type>text/xml</type>
      <metadataType>FGDC</metadataType>
      <content>http://localhost:8000/catalogue/csw?request=GetRecordById&amp;service=CSW&amp;version=2.0.2&amp;id=853e6d64-3caf-4843-92c0-fb389ac8140f&amp;outputschema=http%3A%2F%2Fwww.opengis.net%2Fcat%2Fcsw%2Fcsdgm&amp;elementsetname=full</content>
    </metadataLink>
    <metadataLink>
      <type>other</type>
      <metadataType>other</metadataType>
      <content>http://localhost:8000/catalogue/csw?request=GetRecordById&amp;service=CSW&amp;version=2.0.2&amp;id=853e6d64-3caf-4843-92c0-fb389ac8140f&amp;outputschema=http%3A%2F%2Fwww.isotc211.org%2F2005%2Fgmd&amp;elementsetname=full</content>
    </metadataLink>
    <metadataLink>
      <type>other</type>
      <metadataType>other</metadataType>
      <content>http://localhost:8000/showmetadata/xsl/15</content>
    </metadataLink>
  </metadataLinks>
  <srs>EPSG:4326</srs>
  <nativeBoundingBox>
    <minx>-9.492188</minx>
    <maxx>-8.327637</maxx>
    <miny>38.323559</miny>
    <maxy>40.932335</maxy>
  </nativeBoundingBox>
  <latLonBoundingBox>
    <minx>-9.492188</minx>
    <maxx>-8.327637</maxx>
    <miny>38.323559</miny>
    <maxy>40.932335</maxy>
    <crs>EPSG:4326</crs>
  </latLonBoundingBox>
  <projectionPolicy>FORCE_DECLARED</projectionPolicy>
  <enabled>true</enabled>
  <advertised>true</advertised>
  <metadata>
    <entry key="JDBC_VIRTUAL_TABLE">
      <virtualTable>
        <name>occurrence_polygon</name>
        <sql>select occurrence.id, occurrence.designation, occurrence.acronym, occurrence.toponym, site.name as site_name, occurrence.owner, occurrence.altitude, occurrence.bounding_polygon, people_profile.username as added_by, string_agg(metric_values.automatic_values, &apos;, &apos;) as automatic_metrics, string_agg(metric_values.confirmed_values, &apos;, &apos;) as confirmed_metrics, attributes.values as attributes from occurrence left join (select occurrence_attribute.occurrence_id, array_to_string(array_agg(attribute_category.name  || &apos;: &apos; || attribute_choice.value), &apos;, &apos;) as values from occurrence_attribute, attribute_category, attribute_choice where occurrence_attribute.attributechoice_id = attribute_choice.id and attribute_choice.category_id = attribute_category.id group by occurrence_attribute.occurrence_id) as attributes on attributes.occurrence_id = occurrence.id left join (select metric.occurrence_id, array_to_string(array_agg(metric_type.name  || &apos;=&apos; || metric.auto_value), &apos;, &apos;) as automatic_values, array_to_string(array_agg(metric_type.name  || &apos;=&apos; || metric.confirmed_value), &apos;, &apos;) as confirmed_values from metric, metric_type where metric.type_id = metric_type.id group by metric.occurrence_id) as metric_values on metric_values.occurrence_id = occurrence.id, people_profile, site where occurrence.added_by_id = people_profile.id and site.id = occurrence.site_id group by occurrence.id, attributes.values, people_profile.username, site.name
</sql>
        <escapeSql>false</escapeSql>
        <geometry>
          <name>bounding_polygon</name>
          <type>Polygon</type>
          <srid>-1</srid>
        </geometry>
      </virtualTable>
    </entry>
    <entry key="cachingEnabled">false</entry>
  </metadata>
  <store class="dataStore">
    <id>DataStoreInfoImpl--54ab80b:1823b340422:-8000</id>
  </store>
  <serviceConfiguration>false</serviceConfiguration>
  <simpleConversionEnabled>false</simpleConversionEnabled>
  <maxFeatures>0</maxFeatures>
  <numDecimals>0</numDecimals>
  <padWithZeros>false</padWithZeros>
  <forcedDecimal>false</forcedDecimal>
  <overridingServiceSRS>false</overridingServiceSRS>
  <skipNumberMatched>false</skipNumberMatched>
  <circularArcPresent>false</circularArcPresent>
  <encodeMeasures>false</encodeMeasures>
</featureType>